#pragma once

// =======================================================================
//
namespace math
{

// =======================================================================
//
class Mat4;

// =======================================================================
//
class Vec3
{
public:

    // -----------------------------------------------------------------
    //
    constexpr Vec3();

    // -----------------------------------------------------------------
    //
    constexpr Vec3( double x,
                    double y,
                    double z );

    // -----------------------------------------------------------------
    // 
    virtual double dot( const Vec3& rhs ) const;

    // -----------------------------------------------------------------
    //
    double length() const;

    // -----------------------------------------------------------------
    //
    Vec3 cross( const Vec3& rhs ) const;

    // -----------------------------------------------------------------
    //
    void normalize();

    // -----------------------------------------------------------------
    //
    void print() const;

    // -----------------------------------------------------------------
    //
    virtual double operator[]( int i ) const;

    // -----------------------------------------------------------------
    //
    Vec3 operator*( double scalar ) const;

    // -----------------------------------------------------------------
    // The vector * matrix multiplication is performed as if the Vec3 is
    // a homogeneous coordinate.
    virtual Vec3 operator*( const Mat4& rhs ) const;

    // -----------------------------------------------------------------
    //
    Vec3 operator-( const Vec3& rhs ) const;

    // -----------------------------------------------------------------
    //
    Vec3 operator+( const Vec3& rhs ) const;

    // -----------------------------------------------------------------
    //
    ~Vec3() = default;
    Vec3( const Vec3& ) = default;
    Vec3( Vec3&& ) = default;
    Vec3& operator=( const Vec3& ) = default;
    Vec3& operator=( Vec3&& ) = default;

    // -----------------------------------------------------------------
    //
    double x_;
    double y_;
    double z_;
};

}
